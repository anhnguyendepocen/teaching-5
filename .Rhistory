for(i in idealpoints){ utility(i) }
points(idealpoints, rep(0, N), pch = 19)
text(x = idealpoints[1], 0, labels = "D", pos = 3)
}
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
str(dd)
source('~/.active-rstudio-document', echo=TRUE)
summary(abs)
abs <- aggregate(
flagdem ~ year + regime, data = dd, FUN = function(x){sum(!is.na(x))}
)
summary(abs)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
library(extrafont)
library(extrafonts)
install.packages('extrafont', dependencies = TRUE)
library(extrafonts)
library(extrafont)
library(ggthemes)
install.packages(ggthemes)
install.packages("ggthemes")
library(ggthemes)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
pdta <- aggregate(
flagdem ~ year + regime, data = subset(dd, regime <= 2),
FUN = function(x){sum(!is.na(x))}
)
pdta <- within(pdta,
n_regimes <- ave(flagdem, year, FUN = sum)
)
p_abs <- ggplot(
data = pdta,
aes(x = year, y = flagdem,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, 60), breaks = seq(0, 60, 10)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nAbsolute Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
p_abs
p_rel <- ggplot(
data = pdta,
aes(x = year, y = flagdem/n_regimes,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, 60), breaks = seq(0, 60, 10)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nAbsolute Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
p_rel
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
library(foreign)
library(ggplot2)
library(extrafont)
library(ggthemes)
dd <- read.dta(
"/Users/dag/Dropbox/data/archive/dd/data/ddrevisited_data_v1.dta"
)
pdta <- aggregate(
flagdem ~ year + regime, data = subset(dd, regime <= 2),
FUN = function(x){sum(!is.na(x))}
)
pdta <- within(pdta,
n_regimes <- ave(flagdem, year, FUN = sum)
)
p_abs <- ggplot(
data = pdta,
aes(x = year, y = flagdem,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, 60), breaks = seq(0, 60, 10)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nAbsolute Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
p_rel <- ggplot(
data = pdta,
aes(x = year, y = flagdem/n_regimes,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, .8), breaks = seq(0, .8, .1)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nRelative Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
ggsave(
p_rel, file = "/Users/dag/github/teaching/ws1718/grundl_vergl/07/p_rel.pdf",
width = 4, height = 4/1.618, dpi = 150
)
library(foreign)
library(ggplot2)
library(extrafont)
library(ggthemes)
dd <- read.dta(
"/Users/dag/Dropbox/data/archive/dd/data/ddrevisited_data_v1.dta"
)
pdta <- aggregate(
flagdem ~ year + regime, data = subset(dd, regime <= 2),
FUN = function(x){sum(!is.na(x))}
)
pdta <- within(pdta,
n_regimes <- ave(flagdem, year, FUN = sum)
)
p_abs <- ggplot(
data = pdta,
aes(x = year, y = flagdem,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, 60), breaks = seq(0, 60, 10)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nAbsolute Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
p_rel <- ggplot(
data = pdta,
aes(x = year, y = flagdem/n_regimes,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, .8), breaks = seq(0, .8, .1)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nRelative Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
ggsave(
plot = p_rel, file = "/Users/dag/github/teaching/ws1718/grundl_vergl/07/p_rel.pdf",
width = 4, height = 4/1.618, dpi = 150
)
library(foreign)
library(ggplot2)
library(extrafont)
library(ggthemes)
loadfonts(quiet = TRUE)
dd <- read.dta(
"/Users/dag/Dropbox/data/archive/dd/data/ddrevisited_data_v1.dta"
)
pdta <- aggregate(
flagdem ~ year + regime, data = subset(dd, regime <= 2),
FUN = function(x){sum(!is.na(x))}
)
pdta <- within(pdta,
n_regimes <- ave(flagdem, year, FUN = sum)
)
p_abs <- ggplot(
data = pdta,
aes(x = year, y = flagdem,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, 60), breaks = seq(0, 60, 10)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nAbsolute Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
p_rel <- ggplot(
data = pdta,
aes(x = year, y = flagdem/n_regimes,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, .8), breaks = seq(0, .8, .1)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nRelative Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
ggsave(
plot = p_rel, file = "/Users/dag/github/teaching/ws1718/grundl_vergl/07/p_rel.pdf",
width = 4, height = 4/1.618, dpi = 150
)
help("package-extrafont")
font_import()
warnings()
rm(list = ls())
library(foreign)
library(ggplot2)
library(extrafont)
library(ggthemes)
loadfonts(quiet = TRUE)
dd <- read.dta(
"/Users/dag/Dropbox/data/archive/dd/data/ddrevisited_data_v1.dta"
)
pdta <- aggregate(
flagdem ~ year + regime, data = subset(dd, regime <= 2),
FUN = function(x){sum(!is.na(x))}
)
pdta <- within(pdta,
n_regimes <- ave(flagdem, year, FUN = sum)
)
p_abs <- ggplot(
data = pdta,
aes(x = year, y = flagdem,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, 60), breaks = seq(0, 60, 10)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nAbsolute Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
ggsave(
plot = p_abs, file = "/Users/dag/github/teaching/ws1718/grundl_vergl/07/p_abs.pdf",
width = 4, height = 4/1.618, dpi = 150
)
p_rel <- ggplot(
data = pdta,
aes(x = year, y = flagdem/n_regimes,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, .8), breaks = seq(0, .8, .1)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nRelative Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
ggsave(
plot = p_rel, file = "/Users/dag/github/teaching/ws1718/grundl_vergl/07/p_rel.pdf",
width = 4, height = 4/1.618, dpi = 150
)
rm(list = ls())
library(foreign)
library(ggplot2)
library(extrafont)
library(ggthemes)
loadfonts(quiet = TRUE)
plot_width = 7
dd <- read.dta(
"/Users/dag/Dropbox/data/archive/dd/data/ddrevisited_data_v1.dta"
)
pdta <- aggregate(
flagdem ~ year + regime, data = subset(dd, regime <= 2),
FUN = function(x){sum(!is.na(x))}
)
pdta <- within(pdta,
n_regimes <- ave(flagdem, year, FUN = sum)
)
p_abs <- ggplot(
data = pdta,
aes(x = year, y = flagdem,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, 60), breaks = seq(0, 60, 10)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nAbsolute Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
ggsave(
plot = p_abs, file = "/Users/dag/github/teaching/ws1718/grundl_vergl/07/p_abs.pdf",
width = plot_width, height = plot_width/1.618, dpi = 150
)
p_rel <- ggplot(
data = pdta,
aes(x = year, y = flagdem/n_regimes,
linetype = factor(
regime, levels = 0:2,
labels = c(
"Parlamentarisch", "Präsidentiell",
"Semi-präsidentiell"
)
)
)
) +
geom_line() +
scale_x_continuous(limits = c(1945, 2010), breaks = seq(1950, 2010, 10)) +
scale_y_continuous(limits = c(0, .8), breaks = seq(0, .8, .1)) +
labs(x = "Jahr", title = "Demokratische Regime nach Regierungssystem\nRelative Anzahl", linetype = "Regierungssystem") +
theme_fivethirtyeight(base_family = 'CMU Sans Serif')
ggsave(
plot = p_rel, file = "/Users/dag/github/teaching/ws1718/grundl_vergl/07/p_rel.pdf",
width = plot_width, height = plot_width/1.618, dpi = 150
)
ggtheme::theme_fivethirtyeight
ggthemes::theme_fivethirtyeight
ggthemes::theme_foundation
library(parallel)
library(ggplot2)
library(ggthemes)
source('~/.active-rstudio-document', echo=TRUE)
summary(dta)
n <- 100
n_cores <- detectCores() - 1
dta <- matrix(FALSE, nrow = n, ncol = n + 1)
dta[, 1] <- rnorm(100)
for(i in 2:ncol(dta)){
dta[, i] <- runif(n)
}
detach(package:parallel)
cl <- makeCluster(no_cores, type = "FORK")
library(doParallel)
install.packages("doParallel")
library(doParallel)
library(ggplot2)
library(ggthemes)
n <- 100
n_cores <- detectCores() - 1
cl <- makeCluster(no_cores, type = "FORK")
cl <- makeCluster(n_cores, type = "FORK")
registerDoParallel(cl)
getR2 <- function(y = , x = ){
fit <- lm(y ~ x)
r2 <- 1 - sigma(fit)^2
return(r2)
}
getR2 <- function(y = , x = ){
fit <- lm(y ~ x)
r2 <- 1 - sigma(fit)^2
return(r2)
}
getR2 <- function(y = 1, x = 1){
fit <- lm(y ~ x)
r2 <- 1 - sigma(fit)^2
return(r2)
}
getR2(y = dta[, 1], x = dta[, 2])
getR2(y = dta[, 1], x = dta[, 2:100])
getR2(y = dta[, 1], x = dta[, 2:99])
getR2(y = dta[, 1], x = dta[, 2:98])
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
summary(r2)
source('~/.active-rstudio-document', echo=TRUE)
plot(r)
plot(r2)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
sigma(fit)
?sigma
for(i in 2:ncol(dta)){
assign("fit", lm(dta[, 1] ~ dta[, 2:i]))
r2[(i-1)] <- 1 - sigma(fit)^2
}
summary(r2)
plot(r2)
fit <- lm(dta[, 1] ~ dta[, 2])
summary(fit)
r2[1]
i <- 2
assign("fit", lm(dta[, 1] ~ dta[, 2:i]))
fit
summary(fit)
sigma(fit)
1 - sigma(fit)^2
1 - var(resid(fit))/var(dta[, 1])
source('~/.active-rstudio-document', echo=TRUE)
plot(r2)
source('~/.active-rstudio-document', echo=TRUE)
lm(dta[, 1] ~ dta[, 2:100])
summary(lm(dta[, 1] ~ dta[, 2:100]))
summary(lm(dta[, 1] ~ dta[, 2:99]))
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
dta <- vapply(1:n, FUN = rnorm, length.out = n)
dta <- vapply(1:n, FUN = rnorm, FUN.VALUE = numeric(n))
source('~/.active-rstudio-document', echo=TRUE)
dta <- vapply(1:n, FUN = rnorm(n), FUN.VALUE = numeric(n))
dta <- vapply(1:n, FUN = function(i){rnorm(n)}, FUN.VALUE = numeric(n))
summary(dta)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
fit
rank(fit)
fit$rank
length(coef(fit))
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
summary(adj_r2)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
source('~/github/teaching/ws1718/fors_des/07/demonstrate_failure_ycentric.R', echo=TRUE)
dta <- mvrnorm(
n = n + 1, mu = rep(0, length = n + 1),
Sigma = diag(rep(1, n + 1))
)
library(MASS)
dta <- mvrnorm(
n = n + 1, mu = rep(0, length = n + 1),
Sigma = diag(rep(1, n + 1))
)
source('~/github/teaching/ws1718/fors_des/07/demonstrate_failure_ycentric.R', echo=TRUE)
source('~/github/teaching/ws1718/fors_des/07/demonstrate_failure_ycentric.R', echo=TRUE)
source('~/github/teaching/ws1718/fors_des/07/demonstrate_failure_ycentric.R', echo=TRUE)
# Definitions ==============================================
set.seed(40353)
n <- 10 # gives n_obs & n_predictors!
r2 <- vector(length = n)
adj_r2 <- vector(length = n)
dta <- mvrnorm(
n = n + 1, mu = rep(0, length = n + 1),
Sigma = diag(rep(1, n + 1))
)
library(MASS)
dta <- mvrnorm(
n = n + 1, mu = rep(0, length = n + 1),
Sigma = diag(rep(1, n + 1))
)
diag(rep(1, n + 1))
source('~/github/teaching/ws1718/fors_des/07/demonstrate_failure_ycentric.R', echo=TRUE)
source('~/github/teaching/ws1718/fors_des/07/demonstrate_failure_ycentric.R', echo=TRUE)
source('~/github/teaching/ws1718/fors_des/07/demonstrate_failure_ycentric.R', echo=TRUE)
